{{ define "main" }}

<!-- Title section -->
<div class="container head-section">
    <h1 class="text-center">Topics</h1>
</div>

<!-- Navbar section -->
<div class="container-lg mb-5">
    <hr class="my-0"/>
    <nav class="nav justify-content-center">
        <a class="px-2 py-2 text-muted" href="/blog/">Back to Home</a>
    </nav>
</div>

<!-- Category Card section -->
<div class="container-lg">
    <div class="row justify-content-center">
        
        {{ range .Data.Terms.ByCount }}
        <div class="col-md-6">

            <div class="categories-card rounded container mb-5">
                
                <!-- Image -->
                <div class="blog-card-image">
                    {{ $firstChild := index .Pages 0 }}
                    <a href="{{ .Page.Permalink }}">
                        {{ with $firstChild.Params.image }}
                        <img src="{{ . }}" class="img-fluid rounded" alt="" />
                    </a>
                    {{ end }}
                </div>
                
                <!-- Title -->
                <div class="blog-card-title mt-3">
                    <h4>
                        <a href="{{ .Page.Permalink }}">
                            {{ .Page.Title }}
                        </a>
                    </h4> 
                </div>
                
                <!-- Number of posts -->
                <div class="blog-card-excerpt">
                    {{ $pageCount := len .Pages }}
                    <p>{{ $pageCount }} post{{ if ne $pageCount 1 }}s{{ end }}</p>
                </div>
            
            </div>

        </div>
        {{ end }}

    </div>
</div> 

{{ end }}
